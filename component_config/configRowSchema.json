{
  "type": "object",
  "title": "Configuration",
  "required": [
    "embed_column"
  ],
  "properties": {
    "destination": {
      "type": "object",
      "title": "Destination",
      "required": [
        "output_table_name",
        "incremental_load",
        "primary_keys"
      ],
      "properties": {
        "primary_keys": {
          "type": "string",
          "title": "Primary Keys",
          "description": "Primary keys seperated by commas e.g. id, other_id. If a primary key is set, updates can be done on the table by selecting incremental loads. The primary key can consist of multiple columns. The primary key of an existing table cannot be changed.",
          "propertyOrder": 120
        },
        "incremental_load": {
          "type": "boolean",
          "title": "Incremental Load",
          "format": "checkbox",
          "description": "If incremental load is turned on, the table will be updated instead of rewritten. Tables with a primary key will have rows updated, tables without a primary key will have rows appended.",
          "propertyOrder": 110
        },
        "output_table_name": {
          "type": "string",
          "title": "Storage Table Name",
          "description": "Name of the table stored in Storage.",
          "propertyOrder": 100
        }
      }
    },
    "chunking":{
      "type": "object",
      "title": "Chunking",
      "properties": {
        "is_enabled": {
          "type": "boolean",
          "title": "Enable Chunking",
          "format": "checkbox",
          "default": false,
          "description": "Enable chunking of input data for embedding.",
          "propertyOrder": 2
        },
        "size": {
          "type": "integer",
          "title": "Chunk Size",
          "default": 3,
          "minimum": 1,
          "description": "Number of units per chunk",
          "propertyOrder": 3
        },
        "method": {
          "enum": [
            "words",
            "characters"
          ],
          "type": "string",
          "title": "Text Chunking Method",
          "default": "characters",
          "description": "Split text into chunks for embedding",
          "propertyOrder": 4
        }
      }
    },
    "embed_column": {
      "type": "string",
      "title": "Embed column name",
      "watch": {
        "columns": "_metadata_.table.columns"
      },
      "required": true,
      "enumSource": "columns",
      "description": "Choose a column to embed data.",
      "propertyOrder": 1
    }
  }
}